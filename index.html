<!DOCTYPE html>
<html>
  <head>
    <title>Neverending Journey</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <table>
      <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
        <td>5</td>
        <td>6</td>
      </tr>
      <tr>
        <td>7</td>
        <td>8</td>
        <td>9</td>
        <td>10</td>
        <td>11</td>
        <td>12</td>
      </tr>
      <tr>
        <td>13</td>
        <td>14</td>
        <td>15</td>
        <td>16</td>
        <td>17</td>
        <td>18</td>
      </tr>
      <tr>
        <td>19</td>
        <td>20</td>
        <td>21</td>
        <td>22</td>
        <td>23</td>
        <td>24</td>
      </tr>
    </table>
  </body>
</html>

<script type="text/javascript">
  // On scroll, add a table row - after document is ready
  // Only add a row after scrolling in increments of 200px
  const NUM_RANDOM_IMAGES = 8;
  const NUM_IMAGES_PER_ROW = 6;
  let furthestScroll = 0;
  let scrollPosition = 0;
  let rowCount = 0;
  document.addEventListener("DOMContentLoaded", function () {
    window.addEventListener("scroll", function () {
      scrollPosition = window.scrollY;
      if (scrollPosition - furthestScroll >= 211) {
        let numberOfRows = (scrollPosition - furthestScroll) / 211;
        furthestScroll = scrollPosition;
        for (let i = 0; i < numberOfRows; i++) {
          console.log("scroll");
          const table = document.querySelector("table");
          const row = document.createElement("tr");

          let images = [
            rowCount % 2 === 0 ? "Image_Left-1.png" : "Image_Left-2.png",
          ];
          for (let i = 0; i < NUM_IMAGES_PER_ROW - 2; i++) {
            images.push(`Image_R-${Math.floor(Math.random() * 8) + 1}`);
          }
          images.push(
            rowCount % 2 === 0 ? "Image_Right-1.png" : "Image_Right-2.png"
          );

          let innerHTML = "";
          for (const image of images) {
            innerHTML += '<td><img src="images/' + image + '" /></td>';
          }
          row.innerHTML = innerHTML;
          table.appendChild(row);
          rowCount++;
        }
      }
    });
  });
</script>
